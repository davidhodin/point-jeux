{% extends "base.html" %}
{% block title %}
    Rami
{% endblock %}
{% block content %}
    {% if erreur %}
        <h3 class="ui-bar ui-bar-a ui-corner-all">Aucune partie de sélectionnée.</h3>
    {% else %}
        {% if partie.nombreJoueurs == 3 %}
        {% if partie.statusPartie == 'En cours...' %}
        <div class="ui-grid-a ui-responsive">
        <div class="ui-block-a">
        <div class="ui-body ui-body-a ui-corner-all">
            <h3 class="ui-bar ui-bar-a ui-corner-all">Nouveau jeux</h3>
            <form method="post" action="/rami/encoursRami/" data-ajax="false">
                {% csrf_token %}
                Points {{ partie.nomEquipe1 }} :
                <input type="range" name="pointsEquipe1" id="pointsEquipe1" min="0" max="100" value="0" data-highlight="true">
                Points {{ partie.nomEquipe2 }} :
                <input type="range" name="pointsEquipe2" id="pointsEquipe2" min="0" max="100" value="0" data-highlight="true">
                Points {{ partie.nomEquipe3 }} :
                <input type="range" name="pointsEquipe3" id="pointsEquipe3" min="0" max="100" value="0" data-highlight="true">
                <input type="submit" data-icon="plus" value="Ajouter le jeux" data-theme="b"/>
            </form>
        </div>
        </div>
        <div class="ui-block-b">
            <div class="ui-body ui-body-a ui-corner-all">
                <h3 class="ui-bar ui-bar-a ui-corner-all">Jeux de la partie : {{ partie.nombreMenes }}</h3>
                <table data-role="table" id="table-custom-2" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe ui-responsive" data-column-btn-theme="b" data-column-btn-text="Affichage..." data-column-popup-theme="a">
                    <thead>
                       <tr class="ui-bar-d">
                         <th data-priority="1">{{ partie.nomEquipe1 }}<br/>{{ partie.pointsEquipe1 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe2 }}<br/>{{ partie.pointsEquipe2 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe3 }}<br/>{{ partie.pointsEquipe3 }} points</th>
                        <th data-priority="1">(-)</th>
                       </tr>
                     </thead>
                     <tbody>
                        {% for mene in menes %}
                       <tr>
                         <td>{{ mene.pointsEquipe1 }}
                         </td>
                         <td>{{ mene.pointsEquipe2 }}
                         </td>
                         <td>{{ mene.pointsEquipe3 }}
                         </td>
                        <td><a href="/rami/suprimeRami/{{ mene.key.integer_id }}/" data-ajax="false">Supprimer le jeux</a>
                        </td>
                       </tr>
                       {% endfor %}
                    </tbody>
                </table>
                <br/>
            </div>
            </div>
            </div>
            {% else %}
            <div class="ui-body ui-body-a ui-corner-all">
                <h3 class="ui-bar ui-bar-a ui-corner-all">{{ partie.statusPartie }}<br/>{{ partie.nombreMenes }} jeux jouées</h3>
                <table data-role="table" id="table-custom-2" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe ui-responsive" data-column-btn-theme="b" data-column-btn-text="Affichage..." data-column-popup-theme="a">
                    <thead>
                       <tr class="ui-bar-d">
                         <th data-priority="1">{{ partie.nomEquipe1 }}<br/>{{ partie.pointsEquipe1 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe2 }}<br/>{{ partie.pointsEquipe2 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe3 }}<br/>{{ partie.pointsEquipe3 }} points</th>
                       </tr>
                     </thead>
                     <tbody>
                        {% for mene in menes %}
                       <tr>
                         <td>{{ mene.pointsEquipe1 }}
                         </td>
                         <td>{{ mene.pointsEquipe2 }}
                         </td>
                         <td>{{ mene.pointsEquipe3 }}
                         </td>
                       </tr>
                       {% endfor %}
                    </tbody>
                </table>
                <br/>
            </div>
            {% endif %}
        {% elif partie.nombreJoueurs == 4 %}
            {% if partie.statusPartie == 'En cours...' %}
            <div class="ui-grid-a ui-responsive">
            <div class="ui-block-a">
            <div class="ui-body ui-body-a ui-corner-all">
            <h3 class="ui-bar ui-bar-a ui-corner-all">Nouveau jeux</h3>
            <form method="post" action="/rami/encoursRami/" data-ajax="false">
                {% csrf_token %}
                Points {{ partie.nomEquipe1 }} :
                <input type="range" name="pointsEquipe1" id="pointsEquipe1" min="0" max="100" value="0" data-highlight="true">
                Points {{ partie.nomEquipe2 }} :
                <input type="range" name="pointsEquipe2" id="pointsEquipe2" min="0" max="100" value="0" data-highlight="true">
                Points {{ partie.nomEquipe3 }} :
                <input type="range" name="pointsEquipe3" id="pointsEquipe3" min="0" max="100" value="0" data-highlight="true">
                Points {{ partie.nomEquipe4 }} :
                <input type="range" name="pointsEquipe4" id="pointsEquipe4" min="0" max="100" value="0" data-highlight="true">
                <input type="submit" data-icon="plus" value="Ajouter le jeux" data-theme="b"/>
            </form>
            </div>
            </div>
            <div class="ui-block-b">
            <div class="ui-body ui-body-a ui-corner-all">
                <h3 class="ui-bar ui-bar-a ui-corner-all">Jeux de la partie : {{ partie.nombreMenes }}</h3>
                <table data-role="table" id="table-custom-2" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe ui-responsive" data-column-btn-theme="b" data-column-btn-text="Affichage..." data-column-popup-theme="a">
                    <thead>
                       <tr class="ui-bar-d">
                         <th data-priority="1">{{ partie.nomEquipe1 }}<br/>{{ partie.pointsEquipe1 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe2 }}<br/>{{ partie.pointsEquipe2 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe3 }}<br/>{{ partie.pointsEquipe3 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe4 }}<br/>{{ partie.pointsEquipe4 }} points</th>
                        <th data-priority="1">(-)</th>
                       </tr>
                     </thead>
                     <tbody>
                        {% for mene in menes %}
                       <tr>
                         <td>{{ mene.pointsEquipe1 }}
                         </td>
                         <td>{{ mene.pointsEquipe2 }}
                         </td>
                         <td>{{ mene.pointsEquipe3 }}
                         </td>
                         <td>{{ mene.pointsEquipe4 }}
                         </td>
                        <td><a href="/rami/suprimeRami/{{ mene.key.integer_id }}/" data-ajax="false">Supprimer le jeux</a>
                        </td>
                       </tr>
                       {% endfor %}
                    </tbody>
                </table>
                <br/>
            </div>
            </div>
            </div>
            {% else %}
            <div class="ui-body ui-body-a ui-corner-all">
                <h3 class="ui-bar ui-bar-a ui-corner-all">{{ partie.statusPartie }}<br/>{{ partie.nombreMenes }} jeux jouées</h3>
                <table data-role="table" id="table-custom-2" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe ui-responsive" data-column-btn-theme="b" data-column-btn-text="Affichage..." data-column-popup-theme="a">
                    <thead>
                       <tr class="ui-bar-d">
                         <th data-priority="1">{{ partie.nomEquipe1 }}<br/>{{ partie.pointsEquipe1 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe2 }}<br/>{{ partie.pointsEquipe2 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe3 }}<br/>{{ partie.pointsEquipe3 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe4 }}<br/>{{ partie.pointsEquipe4 }} points</th>
                       </tr>
                     </thead>
                     <tbody>
                        {% for mene in menes %}
                       <tr>
                         <td>{{ mene.pointsEquipe1 }}
                         </td>
                         <td>{{ mene.pointsEquipe2 }}
                         </td>
                         <td>{{ mene.pointsEquipe3 }}
                         </td>
                         <td>{{ mene.pointsEquipe4 }}
                         </td>
                       </tr>
                       {% endfor %}
                    </tbody>
                </table>
                <br/>
            </div>
            {% endif %}
        {% else %}
            {% if partie.statusPartie == 'En cours...' %}
            <div class="ui-grid-a ui-responsive">
            <div class="ui-block-a">
            <div class="ui-body ui-body-a ui-corner-all">
            <h3 class="ui-bar ui-bar-a ui-corner-all">Nouveau jeux</h3>
            <form method="post" action="/rami/encoursRami/" data-ajax="false">
                {% csrf_token %}
                Points {{ partie.nomEquipe1 }} :
                <input type="range" name="pointsEquipe1" id="pointsEquipe1" min="0" max="100" value="0" data-highlight="true">
                Points {{ partie.nomEquipe2 }} :
                <input type="range" name="pointsEquipe2" id="pointsEquipe2" min="0" max="100" value="0" data-highlight="true">
                Points {{ partie.nomEquipe3 }} :
                <input type="range" name="pointsEquipe3" id="pointsEquipe3" min="0" max="100" value="0" data-highlight="true">
                Points {{ partie.nomEquipe4 }} :
                <input type="range" name="pointsEquipe4" id="pointsEquipe4" min="0" max="100" value="0" data-highlight="true">
                Points {{ partie.nomEquipe5 }} :
                <input type="range" name="pointsEquipe5" id="pointsEquipe5" min="0" max="100" value="0" data-highlight="true">
                <input type="submit" data-icon="plus" value="Ajouter le jeux" data-theme="b"/>
            </form>
            </div>
            </div>
            <div class="ui-block-b">
            <div class="ui-body ui-body-a ui-corner-all">
                <h3 class="ui-bar ui-bar-a ui-corner-all">Jeux de la partie : {{ partie.nombreMenes }}</h3>
                <table data-role="table" id="table-custom-2" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe ui-responsive" data-column-btn-theme="b" data-column-btn-text="Affichage..." data-column-popup-theme="a">
                    <thead>
                       <tr class="ui-bar-d">
                         <th data-priority="1">{{ partie.nomEquipe1 }}<br/>{{ partie.pointsEquipe1 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe2 }}<br/>{{ partie.pointsEquipe2 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe3 }}<br/>{{ partie.pointsEquipe3 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe4 }}<br/>{{ partie.pointsEquipe4 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe5 }}<br/>{{ partie.pointsEquipe5 }} points</th>
                        <th data-priority="1">(-)</th>
                       </tr>
                     </thead>
                     <tbody>
                        {% for mene in menes %}
                       <tr>
                         <td>{{ mene.pointsEquipe1 }}
                         </td>
                         <td>{{ mene.pointsEquipe2 }}
                         </td>
                         <td>{{ mene.pointsEquipe3 }}
                         </td>
                         <td>{{ mene.pointsEquipe4 }}
                         </td>
                         <td>{{ mene.pointsEquipe5 }}
                         </td>
                        <td><a href="/rami/suprimeRami/{{ mene.key.integer_id }}/" data-ajax="false">Supprimer le jeux</a>
                        </td>
                       </tr>
                       {% endfor %}
                    </tbody>
                </table>
                <br/>
            </div>
            </div>
            </div>
            {% else %}
            <div class="ui-body ui-body-a ui-corner-all">
                <h3 class="ui-bar ui-bar-a ui-corner-all">{{ partie.statusPartie }}<br/>{{ partie.nombreMenes }} jeux jouées</h3>
                <table data-role="table" id="table-custom-2" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe ui-responsive" data-column-btn-theme="b" data-column-btn-text="Affichage..." data-column-popup-theme="a">
                    <thead>
                       <tr class="ui-bar-d">
                         <th data-priority="1">{{ partie.nomEquipe1 }}<br/>{{ partie.pointsEquipe1 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe2 }}<br/>{{ partie.pointsEquipe2 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe3 }}<br/>{{ partie.pointsEquipe3 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe4 }}<br/>{{ partie.pointsEquipe4 }} points</th>
                         <th data-priority="1">{{ partie.nomEquipe5 }}<br/>{{ partie.pointsEquipe5 }} points</th>
                       </tr>
                     </thead>
                     <tbody>
                        {% for mene in menes %}
                       <tr>
                         <td>{{ mene.pointsEquipe1 }}
                         </td>
                         <td>{{ mene.pointsEquipe2 }}
                         </td>
                         <td>{{ mene.pointsEquipe3 }}
                         </td>
                         <td>{{ mene.pointsEquipe4 }}
                         </td>
                         <td>{{ mene.pointsEquipe5 }}
                         </td>
                       </tr>
                       {% endfor %}
                    </tbody>
                </table>
                <br/>
            </div>
            {% endif %}
        {% endif %}
    {% endif %}
{% endblock %}
{% block haut %}
    <li><a href="/rami/partiesRami/" data-icon="bullets" data-theme="b" data-ajax="false">Mes parties</a></li>
    <li><a href="/rami/encoursRami/" data-icon="action" class="ui-btn-active" data-theme="b" data-ajax="false">En cours</a></li>
{% endblock %}
